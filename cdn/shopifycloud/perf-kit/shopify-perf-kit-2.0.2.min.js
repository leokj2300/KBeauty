!function(){"use strict";class t{t;o=0;i=[];u(t){if(t.hadRecentInput)return;const e=this.i[0],n=this.i.at(-1);this.o&&e&&n&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(this.o+=t.value,this.i.push(t)):(this.o=t.value,this.i=[t]),this.t?.(t)}}const e=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},n=t=>{if("loading"===document.readyState)return"loading";{const n=e();if(n){if(t<n.domInteractive)return"loading";if(0===n.domContentLoadedEventStart||t<n.domContentLoadedEventStart)return"dom-interactive";if(0===n.domComplete||t<n.domComplete)return"dom-content-loaded"}}return"complete"},i=t=>{const e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},r=t=>{let e="";try{for(;9!==t?.nodeType;){const n=t,r=n.id?"#"+n.id:[i(n),...Array.from(n.classList).sort()].join(".");if(e.length+r.length>99)return e||r;if(e=e?r+">"+e:r,n.id)break;t=n.parentNode}}catch{}return e},o=new WeakMap;function s(t,e){return o.get(t)||o.set(t,new e),o.get(t)}let a=-1;const c=()=>a,d=t=>{addEventListener("pageshow",e=>{e.persisted&&(a=e.timeStamp,t(e))},!0)},u=(t,e,n,i)=>{let r,o;return s=>{e.value>=0&&(s||i)&&(o=e.value-(r??0),(o||void 0===r)&&(r=e.value,e.delta=o,e.rating=((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good")(e.value,n),t(e)))}},h=t=>{requestAnimationFrame(()=>requestAnimationFrame(()=>t()))},l=()=>{const t=e();return t?.activationStart??0},f=(t,n=-1)=>{const i=e();let r="navigate";return c()>=0?r="back-forward-cache":i&&(document.prerendering||l()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:t,value:n,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},p=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(t=>{Promise.resolve().then(()=>{e(t.getEntries())})});return i.observe({type:t,buffered:!0,...n}),i}}catch{}},m=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let _=-1;const g=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,x=t=>{"hidden"===document.visibilityState&&_>-1&&(_="visibilitychange"===t.type?t.timeStamp:0,y())},v=()=>{addEventListener("visibilitychange",x,!0),addEventListener("prerenderingchange",x,!0)},y=()=>{removeEventListener("visibilitychange",x,!0),removeEventListener("prerenderingchange",x,!0)},b=()=>{if(_<0){const t=l(),e=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(e=>"hidden"===e.name&&e.startTime>t)[0]?.startTime;_=e??g(),v(),d(()=>{setTimeout(()=>{_=g(),v()})})}return{get firstHiddenTime(){return _}}},S=t=>{document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},T=[1800,3e3],w=(t,e={})=>{S(()=>{const n=b();let i,r=f("FCP");const o=p("paint",t=>{for(const e of t)"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-l(),0),r.entries.push(e),i(!0)))});o&&(i=u(t,r,T,e.reportAllChanges),d(n=>{r=f("FCP"),i=u(t,r,T,e.reportAllChanges),h(()=>{r.value=performance.now()-n.timeStamp,i(!0)})}))})},M=[.1,.25],E=t=>t.find(t=>1===t.node?.nodeType)||t[0];let C=0,I=1/0,k=0;const L=t=>{for(const e of t)e.interactionId&&(I=Math.min(I,e.interactionId),k=Math.max(k,e.interactionId),C=k?(k-I)/7+1:0)};let D;const P=()=>D?C:performance.interactionCount??0;let R=0;class B{l=[];h=new Map;m;p;v(){R=P(),this.l.length=0,this.h.clear()}M(){const t=Math.min(this.l.length-1,Math.floor((P()-R)/50));return this.l[t]}u(t){if(this.m?.(t),!t.interactionId&&"first-input"!==t.entryType)return;const e=this.l.at(-1);let n=this.h.get(t.interactionId);if(n||this.l.length<10||t.duration>e.T){if(n?t.duration>n.T?(n.entries=[t],n.T=t.duration):t.duration===n.T&&t.startTime===n.entries[0].startTime&&n.entries.push(t):(n={id:t.interactionId,entries:[t],T:t.duration},this.h.set(n.id,n),this.l.push(n)),this.l.sort((t,e)=>e.T-t.T),this.l.length>10){const t=this.l.splice(10);for(const e of t)this.h.delete(e.id)}this.p?.(n)}}}const O=t=>{const e=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?t():(t=m(t),document.addEventListener("visibilitychange",t,{once:!0}),e(()=>{t(),document.removeEventListener("visibilitychange",t)}))},A=[200,500];class N{m;u(t){this.m?.(t)}}const j=[2500,4e3],q=[800,1800],F=t=>{document.prerendering?S(()=>F(t)):"complete"!==document.readyState?addEventListener("load",()=>F(t),!0):setTimeout(t)},z="",U="1",H="0",J="p",W="a",$="m",K="t",V="m",Y="a",X="p",G="s";function Z(t){try{return decodeURIComponent(t)}catch(t){return""}}function Q(t,e=!1){const n=function(){try{return document.cookie}catch{return!1}}()?document.cookie.split("; "):[];for(let e=0;e<n.length;e++){const[i,r]=n[e].split("=");if(t===Z(i)){return Z(r)}}if(e&&"_tracking_consent"===t&&!window.localStorage.getItem("tracking_consent_fetched")){if("undefined"!=typeof __CtaTestEnv__&&"true"===__CtaTestEnv__)return;return console.debug("_tracking_consent missing"),function(t="/"){const e=new XMLHttpRequest;e.open("HEAD",t,!1),e.withCredentials=!0,e.send()}(),window.localStorage.setItem("tracking_consent_fetched","true"),Q(t,!1)}}function tt(){const t=new URLSearchParams(window.location.search).get("_cs")||Q("_tracking_consent");if(void 0!==t)return function(t){const e=t.slice(0,1);if("{"==e)return function(t){var e;let n;try{n=JSON.parse(t)}catch{return}if("2.1"!==n.v)return;if(null===(e=n.con)||void 0===e||!e.CMP)return;return n}(t);if("3"==e)return function(t){const e=t.slice(1).split("_"),[n,i,r,o,s]=e;let a,c;try{a=e[5]?JSON.parse(e.slice(5).join("_")):void 0}catch{}if(s){const t=s.replace(/\*/g,"/").replace(/-/g,"+"),e=Array.from(atob(t)).map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("");c=[8,13,18,23].reduce((t,e)=>t.slice(0,e)+"-"+t.slice(e),e)}function d(t){const e=n.split(".")[0];return e.includes(t.toLowerCase())?H:e.includes(t.toUpperCase())?U:z}function u(t){return n.includes(t.replace("t","s").toUpperCase())}return{v:"3",con:{CMP:{[Y]:d(Y),[X]:d(X),[V]:d(V),[G]:d(G)}},region:i||"",cus:a,purposes:{[W]:u(W),[J]:u(J),[$]:u($),[K]:u(K)},sale_of_data_region:"t"==o,display_banner:"t"==r,consent_id:c}}(t);return}(t)}function et(){return function(t){const e=tt();if(!e||!e.purposes)return!0;const n=e.purposes[t];return"boolean"!=typeof n||n}(W)}function nt(){return et()}var it="2.0.2";const rt=Object.freeze({shop_domain:`${window.location.origin}/.well-known/shopify/monorail/v1/produce`,global:"https://monorail-edge.shopifysvc.com/v1/produce",canada:"https://monorail-edge-ca.shopifycloud.com/v1/produce",staging:"https://monorail-edge-staging.shopifycloud.com/v1/produce"}),ot=new RegExp(`^${window.location.origin}/((?:(?:[a-z]{2,3}|zh-hans|zh-hant)(?:-[a-zA-Z0-9]+)/)?cart/(add|change|update|clear))`),st=new RegExp("cart-performance:|add:|change:|clear:|note_update:");var at;function ct({monorailRegion:t,schema:e,rawData:n}){const i=Date.now(),r={schema_id:e,payload:e===at.OnUnload?dt(n):ut(n),metadata:{event_created_at_ms:i,event_sent_at_ms:i}},o=rt[t||""],s=JSON.stringify(r);if(!o)return void console.debug("📡 Monorail: ",JSON.stringify(r,null,2));try{const t=new window.Blob([s],{type:"text/plain"});if("function"==typeof window.navigator.sendBeacon&&"function"==typeof window.Blob&&!function(){const{userAgent:t}=window.navigator;return-1!==t.lastIndexOf("iPhone; CPU iPhone OS 12_")||-1!==t.lastIndexOf("iPad; CPU OS 12_")}()&&window.navigator.sendBeacon(o,t))return}catch(t){}const a=new XMLHttpRequest;a.open("POST",o),a.setRequestHeader("Content-type","text/plain"),a.send(s)}function dt(t){const e=ht(t,["domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","firstPaint","visuallyReady","initiatorType","redirectCount","cartAjaxResourceTimings","cartPerformanceMetrics"]);return{perf_kit_init:t.perfKitInit,perf_kit_version:t.perfKitVersion,url:t.url,page_type:t.pageType,shop_id:t.shopId,application:t.application,storefront_id:t.storefrontId,theme_instance_id:t.themeInstanceId,theme_name:t.themeName,theme_version:t.themeVersion,session_token:t.sessionToken,unique_token:t.uniqueToken,micro_session_id:t.microSessionId,micro_session_count:t.microSessionCount,cumulative_layout_shift:t.cumulativeLayoutShift,cumulative_layout_shift_target:t.cumulativeLayoutShiftTarget,first_contentful_paint:t.firstContentfulPaint,largest_contentful_paint:t.largestContentfulPaint,largest_contentful_paint_target:t.largestContentfulPaintTarget,time_to_first_byte:t.timeToFirstByte,seo_bot:t.seoBot,humanness_score:t.humannessScore,ja3_fingerprint:t.ja3Fingerprint,navigation_start:t.navigationStart,navigation_type:t.navigationType,navigation_bad:t.navigationBad,encoded_body_size:t.encodedBodySize,decoded_body_size:t.decodedBodySize,transfer_size:t.transferSize,first_interim_response_start:t.firstInterimResponseStart,final_response_headers_start:t.finalResponseHeadersStart,response_start:t.responseStart,response_end:t.responseEnd,worker_start:t.workerStart,connect_start:t.connectStart,connect_end:t.connectEnd,domain_lookup_start:t.domainLookupStart,domain_lookup_end:t.domainLookupEnd,fetch_start:t.fetchStart,redirect_start:t.redirectStart,redirect_end:t.redirectEnd,request_start:t.requestStart,secure_connection_start:t.secureConnectionStart,next_hop_protocol:t.nextHopProtocol,server_timing:t.serverTiming,paint_timing_hidden:t.paintTimingHidden,referrer:t.referrer,render_region:t.renderRegion,resource_timing:t.resourceTiming,other_metrics:JSON.stringify(e)}}function ut(t){const e=ht(t,["longAnimationFrame"]);return{url:t.url,page_type:t.pageType,shop_id:t.shopId,application:t.application,storefront_id:t.storefrontId,theme_instance_id:t.themeInstanceId,session_token:t.sessionToken,unique_token:t.uniqueToken,micro_session_id:t.microSessionId,micro_session_count:t.microSessionCount,interaction_to_next_paint:t.interactionToNextPaint,interaction_to_next_paint_target:t.interactionToNextPaintTarget,seo_bot:t.seoBot,humanness_score:t.humannessScore,ja3_fingerprint:t.ja3Fingerprint,referrer:t.referrer,worker_start:t.workerStart,next_hop_protocol:t.nextHopProtocol,navigation_bad:t.navigationBad,other_interaction_metrics:JSON.stringify(e)}}function ht(t,e){return e.reduce((e,n)=>{var i;return t[n]&&(e[(i=n,i.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`))]=t[n]||null),e},{})}!function(t){t.OnInteraction="perf_kit_on_interaction/3.1",t.OnUnload="perf_kit_on_unload/3.3"}(at||(at={}));const lt="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function ft(){let t="";try{const e=window.crypto,n=new Uint16Array(31);e.getRandomValues(n);let i=0;t=lt.replace(/[x]/g,t=>{const e=n[i]%16;return i++,("x"===t?e:3&e|8).toString(16)}).toUpperCase()}catch(e){t=lt.replace(/[x]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}).toUpperCase()}return`${function(){let t=0,e=0;t=(new Date).getTime()>>>0;try{e=performance.now()>>>0}catch(t){e=0}return Math.abs(t+e).toString(16).toLowerCase().padStart(8,"0")}()}-${t}`}const pt=It;!function(t){const e=It,n=t();for(;;)try{if(376251===parseInt(e(237))/1*(parseInt(e(129))/2)+-parseInt(e(186))/3+-parseInt(e(312))/4*(parseInt(e(159))/5)+-parseInt(e(141))/6+parseInt(e(136))/7+parseInt(e(319))/8*(parseInt(e(306))/9)+-parseInt(e(301))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Mt);const mt=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}(),_t=mt(this,function(){const t=It;return _t[t(154)]()[t(288)](t(315))[t(154)]()[t(323)](_t)[t(288)](t(315))});_t();const gt=pt(147),xt=pt(132);class vt{[pt(216)];options;constructor(t,e){const n=pt;this[n(216)]=t,this[n(195)]={path:"/",_0x586095:n(277),debug:!1,...e}}async get(){const t=pt,e=this[t(195)]._0x5212bb;if(this[t(216)][t(219)])try{const n=await this[t(216)].cookieStore[t(296)]({name:e});return n?n.value:null}catch(e){return this[t(262)]()}return this[t(262)]()}async set(t){const e=pt;if(this[e(216)][e(219)])try{await this[e(216)][e(219)][e(304)]({name:this.options[e(248)],value:t,path:this[e(195)][e(246)],_0x194060:this[e(195)][e(292)],_0x586095:this[e(195)][e(220)]?.[e(161)]()}).catch(n=>{this[e(130)](t)})}catch(e){this._0x668954(t)}else this[e(130)](t)}[pt(262)](){const t=pt,e=this[t(195)]._0x5212bb,n=new RegExp(t(259)+e+t(207))[t(269)](this[t(216)][t(143)][t(137)]);return n?n[2]:null}[pt(130)](t){const e=pt;this[e(216)].document[e(137)]=this[e(195)][e(248)]+"="+t+e(321)+this[e(195)].path+e(293)+this[e(195)][e(292)]+e(153)+this[e(195)][e(220)]}[pt(152)](t){const e=pt;this.options[e(200)]&&console[e(152)]("[CookieJar] "+t)}}const yt={document:document,navigator:typeof navigator!==pt(280)?{get webdriver(){return navigator[pt(218)]},get userAgent(){return navigator.userAgent},get languages(){return navigator[pt(231)]},get plugins(){return navigator[pt(240)]},sendBeacon:navigator[pt(255)]?.[pt(204)](navigator)}:{webdriver:void 0,userAgent:"",languages:[],plugins:[],sendBeacon:void 0},window:window,screen:screen,cookieStore:typeof window!==pt(280)&&pt(219)in window?window[pt(219)]:void 0,performance:"undefined"!=typeof performance?performance:void 0};function bt(t){const e=pt;if(t[e(221)]<2)return{speed:0,_0x227b13:0};const n=t.reduce((t,e)=>t+e.s,0)/t[e(221)],i=t[e(313)]((t,e)=>t+(e.s-n)**2,0)/(t[e(221)]-1),r=Math[e(297)](i);return{speed:n,_0x227b13:r}}function St(t,e,n,i,r,o,s,a,c,d,u,h,l){const f=pt,p=Math.min(1e3,t),m=Math.min(1e3,n),_=Math[f(271)](1e3,o),g=Math[f(271)](1e3,a),x=Math[f(271)](1e3,s),v=Math.min(1e3,c),y=[];if(e[f(221)]>=3)for(let t=1;t<e[f(221)];t++){const n=e[t].x-e[t-1].x,i=e[t].y-e[t-1].y,r=e[t]._0x1050a8-e[t-1][f(202)];if(0===r)continue;const o=Math.sqrt(n*n+i*i)/r;y[f(182)]({s:o})}const b=function(t){const e=pt;if(t[e(221)]<2)return!1;let n=!1,i=null;for(const r of t)if(null!==i){if(Math[e(140)](r.s-i)>5e-4){n=!0;break}i=r.s}else i=r.s;return n}(y),S=function(t){const e=pt;if(t.length<3)return 0;let n=0,i=0;for(let r=1;r<t[e(221)];r++){const o=t[r-1],s=t[r],a=t[r+1];if(!o||!s||!a)continue;const c=Math[e(165)](s.y-o.y,s.x-o.x),d=Math[e(165)](a.y-s.y,a.x-s.x),u=Math[e(140)](d-c);(u<Math.PI/12||u>2*Math.PI-Math.PI/12)&&n++,i++}return i>0?n/i:0}(e),{speed:T,_0x227b13:w}=bt(y);let M=0,E=0;if(i[f(221)]>1){M=new Set(i.map(t=>Math[f(160)](t.x/20)+","+Math.floor(t.y/20)))[f(299)]>1?1:0,E=i[f(313)]((t,e)=>t+e[f(276)],0)/i.length}const C=r.reduce((t,e)=>{const n=f;return null===e._0x4d349b||t[n(182)](e[n(174)]),t},[]),{_0x230e2e:I,_0x227b13:k}=function(t){const e=pt;if(t[e(221)]<2)return{_0x230e2e:0,_0x227b13:0};const n=t[e(313)]((t,e)=>t+e,0)/t.length,i=t.reduce((t,e)=>(t??0)+((e??0)-n)**2,0)/t[e(221)],r=Math[e(297)](i);return{_0x230e2e:0===r?1:Math[e(146)](0,1-r/n),_0x227b13:r/n}}(C),L=C[f(221)]>0?C.reduce((t,e)=>t+e,0)/C[f(221)]:0,D=[];if(d[f(221)]>=3)for(let t=1;t<d[f(221)];t++){const e=Math[f(140)](d[t][f(173)]-d[t-1][f(173)]),n=Math[f(146)](1,d[t][f(202)]-d[t-1][f(202)]);if(0===n)continue;const i=e/n,r=d[t][f(173)]>d[t-1]._0x3022eb?"down":"up";D[f(182)]({s:i,dir:r,_0x1050a8:d[t][f(202)]})}const{speed:P,_0x227b13:R}=bt(D),B=function(t){const e=pt;if(t[e(221)]<2)return 0;let n=0;for(let i=1;i<t[e(221)];i++){const r=t[i-1],o=t[i];Math[e(140)](o.s-r.s)<=(o.s+r.s)/2*2&&n++,o[e(278)]===r[e(278)]&&n++}return n/(2*(t[e(221)]-1))}(D),O=Math[f(271)](1e3,function(t){const e=pt;if(t.length<2)return 0;let n=0,i=0;for(let r=1;r<t[e(221)];r++)t[r][e(202)]-t[r-1][e(202)]>=500&&t[r][e(202)]-i>=500&&(n++,i=t[r]._0x1050a8);return n}(D)),{speed:A,_0x227b13:N}=bt(u),j=function(t){const e=pt;if(t[e(221)]<2)return 0;let n=0;for(let i=1;i<t[e(221)];i++){const r=t[i-1],o=t[i];Math[e(140)](o.s-r.s)<=50&&n++}return n/(t.length-1)}(u),q=Math[f(271)](1e3,function(t){const e=pt;if(t[e(221)]<2)return 0;let n=0;for(let i=1;i<t[e(221)];i++)t[i][e(202)]-t[i-1][e(202)]>=500&&n++;return n}(u)),F=Math.floor((l-h)/1e3);return{_0x5f1366:p,_0x93d947:m,_0x58b7eb:_,_0x2f6b89:g,_0x1eaf7a:v,_0x255a96:x,_0x1050a8:Math[f(271)](3600,F),_0x50f2f2:b?1:0,ms:wt(S),_0x3d1ee8:wt(w),_0x56163f:wt(T),_0x35f177:M,_0xe33390:wt(E),_0x5ceee5:wt(I),_0x542611:wt(k),_0x143d94:wt(L),_0x155d70:wt(P),_0x56f75a:wt(R),_0x10cbe1:wt(B),_0x30744e:O,_0x22df7f:wt(A),_0x1aa0ef:wt(N),_0x5a8007:q,_0x1cb33d:wt(j)}}function Tt(t,e){let n=0;return(...i)=>{const r=It,o=typeof performance!==r(280)?performance[r(261)]():Date[r(261)]();o-n>=e&&(n=o,t(...i))}}function wt(t){return Math[pt(223)](100*t)/100}function Mt(){const t=["debug","readyState","_0x1050a8","_0x3fe97b","bind","_0x42310d","_0x4ba553","=([^;]+)","_0x137bb0","scrollY","test","_0x19add0","_0x98684a","_0x45c4a6","_0x2dc020","_0x2f6b89","_0x254dc0","ontouchstart","webdriver","cookieStore","_0x586095","length","application/json","round","pageCount","_0x567680","blue","font","createLinearGradient","Shift","_0x1a2011","languages","_0x5ec4bc","_0x39a390","scroll","left","_0xc7ca55","68gcYJgC","_0x569a4b","_0x37d5af","plugins","clearTimeout","_0x130aa0","Control","Meta","_0x4c80be","path","requestIdleCallback","_0x5212bb","cancelIdleCallback","_0x6cb780","parse","setTimeout","updateInterval","innerHeight","sendBeacon","key","_0x1665b5","_0x468391","(^| )","_0x41a7fa","now","_0x48c348","_0xa60009","_0x503a79","_0x5a252f","_0x2b99ed","navigator","_0x5f5279","exec","_0xebb64d","min","top","duration","window","_0x50f2f2","_0x5262ca","Strict","dir","_0x1517dd","undefined","sessionStorage","start","_0x7163d","Shopify Storefront","createElement","keydown","_0x117902","search","_0x45d4a3","touches","timeStamp","_0x3399f5","; max-age=","_0x417a40","height","get","sqrt","startTime","size","_0x2e3974","2371930yBSUFG","state","getContext","set","stringify","36TYeTgi","click","_0xe5ae54","_0x5c48bf","width","_0x39813d","136YcLIaO","reduce","_0x22df7f","(((.+)+)+)+$","_0x39641d","clientY","target","1209048ucfZzs","_0x58b7eb","; path=","_0x112458","constructor","fillText","clientX","touchstart","_0x4819b7","Beacon failed: ","move","1406aaiCjW","_0x668954","_0x2a74e8","_shs_state","forEach","addEventListener","userAgent","3948161MGnsvU","cookie","At least one signal collection method must be enabled (cookie or beacon)","_0x522c8b","abs","430992scyjDX","_0x5f1366","document","_0x32d1eb","addColorStop","max","/api/collect","#fff","Alt","removeEventListener","_0x4ad730","log","; SameSite=","toString","shift","_0x3475b5","_0x5bdcbe","touchend","27525rmCmkB","floor","toLowerCase","16px Arial","_0x470d9f","then","atan2","_0x270ba7","innerWidth","_0x182d7a","_0x5dcd71","_0xa7a38e","keep_alive","clientWidth","_0x3022eb","_0x4d349b","_0x148eb0","fillRect","_0x538de4","_0x35f177","red","DOMContentLoaded","devicePixelRatio","push","_0x5b3f27","_0x164615","_0x93d947","1031715tbfHPM","[SHS] ","_0x2bf06c","getBoundingClientRect","_0x3f67a3","includes","touchmove","documentElement","keys","options","_0x49601c","mousemove","_0x4664eb","init"];return(Mt=function(){return t})()}function Et(t){const e=pt;return{_0x13e902:t[e(225)],_0x1e0067:t[e(139)],_0x1b3dd4:t[e(264)],_0x50f2f2:t._0x59d273,_0x10983f:t[e(311)],_0x58b7eb:t[e(203)],_0x2f6b89:t[e(175)],pt:t._0x3f67a3,_0x52ad4b:t._0xa60009,_0x202d7a:t[e(289)]}}class Ct{[pt(279)];[pt(302)];_0x254dc0;[pt(156)];constructor(t,e=yt){const n=pt,i={_0x5212bb:n(171),_0x3399f5:1800,updateInterval:5e3,debug:!1,_0x5a252f:!1,_0x54240e:gt,_0x19a113:3,_0x270ba7:!0};if(this._0x1517dd={...i,...t},this._0x254dc0=e,!this[n(279)][n(166)]&&!this[n(279)][n(265)])throw new Error(n(138));if(this[n(156)]=new vt(this[n(216)],{_0x5212bb:this[n(279)][n(248)],_0x3399f5:this._0x1517dd[n(292)],debug:this._0x1517dd[n(200)]}),this[n(302)]={startTime:Date.now(),_0x5f5279:null,_0x49601c:!1,_0x2a74e8:null,_0xa7a38e:0,_0x42310d:0,_0x6cb780:0,_0x98684a:0,_0x2bf06c:0,_0x5c48bf:0,_0x1a2011:[],_0x5bdcbe:[],_0x41a7fa:[],_0x7163d:[],_0x417a40:[],_0x117902:[],_0x5dcd71:null},this._0x1517dd[n(265)]){const t=this[n(232)]();this[n(302)][n(266)]={_0x4ba553:t,_0x112458:0,_0x1665b5:0}}}[pt(199)](){(async()=>{const t=It;await this[t(236)](),await this[t(144)](),await this._0xe5ae54(!0),this._0x254dc0.window[t(252)](()=>{this[t(270)]()},100);const e=()=>{const n=t,i=Date.now(),r=i-(this[n(302)][n(268)]||i),o=Math[n(146)](0,this[n(279)][n(253)]-r),s=()=>{const t=n;this._0x254dc0[t(274)].requestIdleCallback?this[t(302)][t(208)]=this[t(216)][t(274)][t(247)](()=>{const n=t;this[n(308)]()[n(164)](()=>{e()})},{timeout:2e3}):this._0xe5ae54()[t(164)](()=>{e()})};o>0?this[n(216)][n(274)][n(252)](s,o):s()};e()})()}_0x26855e(){const t=pt;this[t(302)][t(168)]&&this[t(216)][t(274)][t(241)](this[t(302)][t(168)]),this[t(302)][t(208)]&&this[t(216)][t(274)][t(249)]&&this[t(216)].window[t(249)](this[t(302)][t(208)]),this.state[t(238)]&&(this._0x254dc0[t(143)][t(150)](t(197),this[t(302)][t(238)][t(197)]),this[t(216)][t(143)].removeEventListener(t(307),this[t(302)][t(238)][t(307)]),this[t(216)][t(143)][t(150)]("keydown",this[t(302)][t(238)][t(286)]),this[t(216)][t(143)].removeEventListener("scroll",this[t(302)]._0x569a4b[t(234)]),t(217)in window&&this.state[t(238)][t(326)]&&this[t(302)][t(238)][t(192)]&&this[t(302)][t(238)][t(158)]&&(this[t(216)].document[t(150)](t(326),this[t(302)]._0x569a4b.touchstart),this[t(216)][t(143)].removeEventListener(t(192),this[t(302)][t(238)].touchmove),this[t(216)][t(143)][t(150)]("touchend",this.state[t(238)][t(158)]))),this.state._0x2b99ed?.[t(151)]&&this[t(216)][t(274)][t(241)](this.state[t(266)]._0x4ad730),this.state[t(266)]=void 0}async[pt(236)](){const t=pt;if(!this._0x1517dd[t(166)])return;const e=function(t){const e=pt;if(!t)return null;try{const n=JSON[e(251)](atob(decodeURIComponent(t)));return n[e(300)]&&n._0x22df7f?n:null}catch(t){return null}}(await this[t(156)][t(296)]());e&&(this[t(302)][t(268)]=e[t(314)],e[t(183)]&&(this.state[t(131)]={pageCount:e[t(183)][t(173)]||1,_0x470d9f:e[t(183)].s||Date.now(),duration:e[t(183)].d||0}))}_0x32d1eb(){const t=pt,e={_0x13e902:this._0x254dc0[t(267)][t(218)]?1:0,_0x1e0067:/bot|crawler|spider|scraper/i[t(210)](this[t(216)].navigator[t(135)])?0:1,_0x37d5af:this[t(177)]()?1:0,_0x468391:this[t(198)]()?1:0};return this[t(302)][t(184)]=e,this[t(302)][t(196)]=!0,e}[pt(177)](){const t=pt;try{const e=this[t(216)][t(143)][t(285)]("canvas");e[t(310)]=200,e.height=50;const n=e[t(303)]("2d");if(null===n)return!1;const i=n[t(228)](0,0,200,0);i[t(145)](0,t(179)),i[t(145)](1,t(226)),n.fillStyle=i,n[t(176)](0,0,200,50),n.fillStyle=t(148),n[t(227)]=t(162),n[t(324)](t(284),33,30);const r=e.toDataURL();return Boolean(r&&r[t(221)]>50)}catch(t){return!1}}[pt(198)](){const t=pt;let e=0;this[t(216)][t(267)][t(231)]&&this._0x254dc0[t(267)][t(231)][t(221)]>0&&e++,(this._0x254dc0[t(267)][t(240)]&&this[t(216)][t(267)][t(240)].length>0||this[t(216)][t(267)][t(135)][t(191)]("Mobile"))&&e++,this[t(233)]()&&e++,typeof this[t(216)][t(274)][t(181)]!==t(280)&&e++;try{const t=(new Date).getTimezoneOffset();t>-840&&t<840&&e++}catch(t){}return e>=3}[pt(233)](){const t=pt,e=this._0x254dc0[t(274)][t(167)]||this[t(216)][t(143)][t(193)][t(172)],n=this[t(216)][t(274)][t(254)]||this._0x254dc0.document[t(193)].clientHeight;if(!e||!n)return!1;if(e<=2||n<=2)return!1;const i=e/n;return i>=.2&&i<=5}[pt(270)](){const t=pt,e=Tt(t=>{const e=It;this[e(302)][e(170)]++,this.state[e(230)][e(221)]>=10&&this.state[e(230)][e(155)](),this[e(302)][e(230)].push({x:t[e(325)],y:t.clientY,_0x1050a8:t[e(291)]})},100),n=t=>{const e=It;this[e(302)][e(205)]++,requestAnimationFrame(()=>setTimeout(()=>{const n=e;this[n(302)][n(157)][n(221)]>=5&&this[n(302)]._0x5bdcbe[n(155)](),this[n(302)][n(157)].push({x:t.clientX,y:t[n(317)],_0x1050a8:t[n(291)],_0x5262ca:this[n(242)](t)})},0))},i=t=>{const e=It;this[e(302)]._0x6cb780++;const n=t[e(256)];if([e(229),e(243),e(149),e(244)][e(191)](n))return;const i=this[e(302)]._0x41a7fa[this.state._0x41a7fa[e(221)]-1],r=t[e(291)],o=i?r-i[e(202)]:null;this.state[e(260)].length>=10&&this.state[e(260)][e(155)](),this[e(302)][e(260)][e(182)]({_0x67fb2f:n,_0x1050a8:r,_0x4d349b:o}),null!==o&&o<100?(this.state[e(294)][e(182)](o),this[e(302)][e(294)].length>=5&&(this.state[e(212)]++,this[e(302)][e(294)]=[])):this[e(302)][e(294)]=[]},r=Tt(t=>{const e=It;this[e(302)][e(188)]++;const n=t[e(291)],i=window[e(209)];this.state._0x7163d[e(221)]>=10&&this[e(302)][e(283)][e(155)](),this[e(302)][e(283)][e(182)]({_0x3022eb:i,_0x1050a8:n})},200),o=t=>{const e=It;this.state[e(309)]++,this.state[e(287)][e(221)]>=10&&this.state[e(287)][e(155)](),this.state[e(169)]={x:t[e(290)][0][e(325)],y:t[e(290)][0][e(317)],_0x1050a8:t.timeStamp,_0x1d11db:e(282),s:0,d:0}},s=Tt(t=>{const e=It,n={x:t[e(290)][0][e(325)],y:t[e(290)][0][e(317)]};if(this[e(302)][e(169)]){const i=this[e(327)](this.state[e(169)],n);this.state[e(287)][e(221)]>=10&&this[e(302)][e(287)][e(155)]();const r={x:t[e(290)][0][e(325)],y:t.touches[0][e(317)],_0x1050a8:t.timeStamp,_0x1d11db:e(128),d:i,s:i/(t[e(291)]-this[e(302)][e(169)][e(202)])};this[e(302)][e(287)][e(182)](r),this[e(302)][e(169)]=r}else{const n={x:t[e(290)][0][e(325)],y:t[e(290)][0].clientY,_0x1050a8:t[e(291)],_0x1d11db:e(128),s:0,d:0};this[e(302)][e(169)]=n}},200),a=t=>{const e=It;this.state[e(169)]=null};this[t(216)][t(143)].addEventListener(t(197),e,{passive:!0}),this[t(216)][t(143)][t(134)]("click",n,{passive:!0}),this[t(216)].document.addEventListener(t(286),i,{passive:!0}),this[t(216)][t(143)][t(134)](t(234),r,{passive:!0}),"ontouchstart"in window&&(this[t(216)].document.addEventListener(t(326),o,{passive:!0}),this._0x254dc0[t(143)][t(134)](t(192),s,{passive:!0}),this[t(216)][t(143)][t(134)]("touchend",a,{passive:!0})),this.state._0x569a4b={mousemove:e,click:n,keydown:i,scroll:r,touchstart:o,touchmove:s,touchend:a}}async[pt(308)](t=!1){const e=pt;if(this[e(213)](t),this[e(279)][e(265)]&&await this._0x4c80be(),!this[e(279)][e(166)])return;const n=this[e(316)]();n&&(await this._0x3475b5[e(304)](n),this[e(302)][e(268)]=Date[e(261)]())}[pt(213)](t=!1){const e=pt,n=Date[e(261)]();let i=Math.floor((n-this[e(302)].startTime)/1e3);null!==this[e(302)][e(268)]&&(i=Math[e(160)]((n-this[e(302)][e(268)])/1e3)),this[e(302)][e(131)]?(this[e(302)][e(131)][e(224)]+=t?1:0,this[e(302)][e(131)][e(273)]+=i):this[e(302)][e(131)]={pageCount:1,_0x470d9f:this[e(302)][e(298)],duration:0}}[pt(316)](){const t=pt;if(!this[t(302)][t(196)]&&0===this[t(302)][t(170)]&&0===this[t(302)][t(205)])return null;const e=this[t(302)][t(184)]??{_0x13e902:0,_0x1e0067:1,_0x37d5af:0,_0x468391:0},n=St(this[t(302)][t(170)],this[t(302)][t(230)],this[t(302)]._0x42310d,this[t(302)][t(157)],this[t(302)][t(260)],this[t(302)][t(250)],this[t(302)][t(212)],this[t(302)]._0x2bf06c,this[t(302)][t(309)],this[t(302)][t(283)],this[t(302)]._0x117902,this.state[t(298)],Date[t(261)]()),i={_0x3022eb:this[t(302)]._0x2a74e8?.[t(224)]??1,s:this.state[t(131)]?.[t(163)]??this[t(302)][t(298)],d:this[t(302)][t(131)]?.[t(273)]??0},r={_0x2e3974:2,_0x22df7f:Date.now(),_0x1eb62b:e,_0x4e7780:n,_0x5b3f27:i};return encodeURIComponent(btoa(JSON[t(305)](r)))}[pt(152)](t){const e=pt;this._0x1517dd[e(200)]&&console[e(152)](e(187)+t)}[pt(232)](){const t=pt;try{if(this[t(216)][t(274)].sessionStorage){const e=this[t(216)][t(274)][t(281)].getItem(xt);if(e){return JSON[t(251)](e)}}}catch(t){}return null}[pt(211)](t){const e=pt;try{this[e(216)].window[e(281)]&&this[e(216)][e(274)].sessionStorage.setItem(xt,JSON[e(305)](t))}catch(t){}}_0x130aa0(t){const e=pt,n=t[e(318)];if(!(n&&n instanceof Element&&n[e(189)]))return 0;const i=n[e(189)]();if(!i[e(310)]||!i[e(295)])return 0;const r=i[e(235)]+i[e(310)]/2,o=i[e(272)]+i.height/2,s=this._0x4819b7({x:t[e(325)],y:t[e(317)]},{x:r,y:o}),a=Math.sqrt(i[e(310)]**2+i.height**2)/2;return a>0?Math[e(146)](0,1-s/a):0}_0x4819b7(t,e){return Math[pt(297)]((e.x-t.x)**2+(e.y-t.y)**2)}async[pt(255)](t){const e=pt;if(!this[e(279)][e(265)]||!this.state[e(266)])return;const n={_0x2e3974:1,s:Et(t)},i=JSON.stringify(n),r=this._0x1517dd._0x54240e;if(this[e(216)][e(267)][e(255)])try{const t=new Blob([i],{type:e(222)});if(this._0x254dc0[e(267)][e(255)](r,t))return void(this.state[e(266)][e(257)]=0)}catch(t){}try{const t=await fetch(r,{method:"POST",headers:{_0x38b180:e(222)},body:i,credentials:"include",keepalive:!0});if(!t.ok)throw new Error(e(127)+t.status);this[e(302)][e(266)][e(257)]=0}catch(e){this._0x2dc020(t)}}[pt(214)](t){const e=pt;if(!this[e(302)][e(266)]||this[e(302)][e(266)][e(257)]>=this[e(279)]._0x19a113)return;const n=Math[e(271)](1e3*2**this.state[e(266)]._0x1665b5,3e4);this[e(302)][e(266)]._0x1665b5++,this[e(302)]._0x2b99ed._0x4ad730=this[e(216)][e(274)][e(252)](()=>{const n=e;this[n(302)][n(266)]&&this[n(279)][n(265)]&&this[n(255)](t)},n)}async[pt(245)](){const t=pt;if(!this[t(279)][t(265)]||!this.state[t(266)])return;const e=St(this[t(302)]._0xa7a38e,this[t(302)][t(230)],this[t(302)][t(205)],this.state[t(157)],this[t(302)][t(260)],this[t(302)][t(250)],this[t(302)][t(212)],this[t(302)][t(188)],this[t(302)][t(309)],this[t(302)][t(283)],this.state._0x117902,this[t(302)][t(298)],Date[t(261)]()),n=function(t,e,n,i){const r=pt,o={_0x567680:1===t?._0x13e902||!1,_0x522c8b:0===t?._0x1e0067||!1,_0x503a79:1===t?.[r(258)]&&1===t?.[r(239)]||!1,_0x59d273:!1,_0x39813d:!1,_0x3fe97b:!1,_0x148eb0:!1,_0x3f67a3:!1,_0xa60009:!1,_0x45d4a3:!1};if(e[r(142)]>5&&1===e[r(275)]&&(o._0x59d273=!0),e[r(185)]>0&&1===e[r(178)]&&(o[r(311)]=!0),e[r(320)]>5&&(o[r(203)]=!0),e[r(215)]>0&&(o._0x148eb0=!0),e[r(202)]>30&&(o[r(190)]=!0),n&&(n[r(224)]>1&&(o[r(263)]=!0),n[r(273)]>60&&(o[r(289)]=!0)),i){const t=Object[r(194)](o);for(const e of t)o[e]=o[e]||i[e]}return o}(this[t(302)][t(184)],e,this[t(302)][t(131)],this[t(302)][t(266)][t(206)]);if(function(t,e){if(!e)return!0;const n=Object[pt(194)](t);for(const i of n)if(t[i]!==e[i])return!0;return!1}(n,this[t(302)][t(266)][t(206)])){if(Date[t(261)]()-this[t(302)][t(266)][t(322)]<100)return;if(this[t(279)][t(200)]){if(this[t(302)][t(266)][t(206)]){Object.keys(n)[t(133)](e=>{const i=t;this[i(302)][i(266)][i(206)][e],n[e]})}else;this[t(302)][t(131)]}this[t(302)]._0x2b99ed[t(206)]=(i=n,{...i}),this[t(302)]._0x2b99ed[t(322)]=Date[t(261)](),this._0x19add0(n),await this[t(255)](n)}else this[t(279)].debug;var i}}function It(t,e){const n=Mt();return It=function(t,e){return n[t-=127]},It(t,e)}let kt=!0,Lt=!1,Dt=null,Pt=!1;class Rt{info;config;performanceMetrics;constructor(t){const e=/_shopify_s=([^;]*)/.exec(document.cookie),n=e?e[1]:void 0,i=/_shopify_y=([^;]*)/.exec(document.cookie),r=i?i[1]:void 0;this.config=t,this.info={perfKitInit:Date.now(),perfKitVersion:it,url:window.location.href,referrer:document.referrer||void 0,microSessionId:ft(),microSessionCount:0,sessionToken:n,uniqueToken:r},performance.setResourceTimingBufferSize(1e3),this.performanceMetrics=function(t){const e=performance.getEntriesByType("navigation");if(0===e.length)return{};const n=e[0];let i=!1;return(n.requestStart&&n.startTime&&n.requestStart<n.startTime||n.responseStart&&n.startTime&&n.responseStart<n.startTime||n.responseStart&&n.fetchStart&&n.responseStart<n.fetchStart||n.startTime&&n.fetchStart<n.startTime||n.responseEnd&&n.responseEnd>t+864e5)&&(i=!0),{encodedBodySize:n.encodedBodySize,decodedBodySize:n.decodedBodySize,navigationStart:Math.round(n.startTime),navigationType:n.type,navigationBad:i,firstInterimResponseStart:Math.round(n.firstInterimResponseStart),finalResponseHeadersStart:Math.round(n.finalResponseHeadersStart),responseStart:Math.round(n.responseStart),responseEnd:Math.round(n.responseEnd),workerStart:Math.round(n.workerStart),connectStart:Math.round(n.connectStart),connectEnd:Math.round(n.connectEnd),domainLookupStart:Math.round(n.domainLookupStart),domainLookupEnd:Math.round(n.domainLookupEnd),fetchStart:Math.round(n.fetchStart),redirectStart:Math.round(n.redirectStart),redirectEnd:Math.round(n.redirectEnd),requestStart:Math.round(n.requestStart),secureConnectionStart:Math.round(n.secureConnectionStart),nextHopProtocol:n.nextHopProtocol,serverTiming:JSON.stringify(n.serverTiming),domInteractive:Math.round(n.domInteractive),domComplete:Math.round(n.domComplete),domContentLoadedEventStart:Math.round(n.domContentLoadedEventStart),domContentLoadedEventEnd:Math.round(n.domContentLoadedEventEnd),redirectCount:n.redirectCount,initiatorType:n.initiatorType,transferSize:n.transferSize}}(this.info.perfKitInit)}}function Bt(t){Dt=new Rt(t),t.spaMode&&(window.PerfKit={navigate:()=>{kt?kt=!1:Lt||(At(),Dt=new Rt(t),Lt=!0)},setPageType:e=>{t.storefrontData.pageType=e}}),t.shs&&((t,e=yt)=>{const n=pt,i=new Ct(t,e);"loading"===e.document[n(201)]?e.document.addEventListener(n(180),()=>i[n(199)]()):i[n(199)]()})({debug:!0,enableBeacon:t.shsBeacon||!1,enableCookie:t.shsCookie||!0})}const Ot=new Set;function At(){if(null!==Dt){if(Nt()&&Ot.size>0){let t={};for(const e of Ot)t={...t,...e};Ot.clear(),Dt.info.microSessionCount+=1;const e=function(t){if(!(100*Math.random()>(t||10)))return performance.getEntriesByType("resource").map(t=>{const e=Object.entries(t.toJSON()).map(([t,e])=>"number"==typeof e?[t,Math.round(e)]:[t,e]);return JSON.stringify(Object.fromEntries(e))})}(Dt.config.resourceTimingSamplingRate),n=performance.getEntriesByType("resource").filter(t=>ot.test(t.name)),i=performance.getEntriesByType("measure").filter(t=>st.test(t.name)).map(t=>{const e=t.toJSON();return e.name.startsWith("cart-performance:")||(e.name=`cart-performance:${e.name}`),e});ct({monorailRegion:Dt.config.monorailRegion,schema:at.OnUnload,rawData:{...Dt.info,...Dt.config.storefrontData,...Dt.performanceMetrics,...t,resourceTiming:e,cartAjaxResourceTimings:n,cartPerformanceMetrics:i,paintTimingHidden:Pt}})}}else console.debug("⛔️ Shopify/perf-kit is not initialized")}function Nt(){return nt()}((e,i={})=>{const o=s(i=Object.assign({},i),t),a=new WeakMap;o.t=t=>{if(t?.sources?.length){const e=E(t.sources);if(e){const t=(i.generateTarget??r)(e.node);a.set(e,t)}}},((e,n={})=>{w(m(()=>{let i,r=f("CLS",0);const o=s(n,t),a=t=>{for(const e of t)o.u(e);o.o>r.value&&(r.value=o.o,r.entries=o.i,i())},c=p("layout-shift",a);c&&(i=u(e,r,M,n.reportAllChanges),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(a(c.takeRecords()),i(!0))}),d(()=>{o.o=0,r=f("CLS",0),i=u(e,r,M,n.reportAllChanges),h(()=>i())}),setTimeout(i))}))})(t=>{const i=(t=>{let e={};if(t.entries.length){const i=t.entries.reduce((t,e)=>t.value>e.value?t:e);if(i?.sources?.length){const t=E(i.sources);t&&(e={largestShiftTarget:a.get(t),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:t,largestShiftEntry:i,loadState:n(i.startTime)})}}return Object.assign(t,{attribution:e})})(t);e(i)},i)})(function(t){const{attribution:e,value:n}=t;Ot.add({cumulativeLayoutShift:n,cumulativeLayoutShiftTarget:e.largestShiftTarget})}),((t,n={})=>{const i=s(n=Object.assign({},n),N),o=new WeakMap;i.m=t=>{if(t.element){const e=(n.generateTarget??r)(t.element);o.set(t,e)}},((t,e={})=>{S(()=>{const n=b();let i,r=f("LCP");const o=s(e,N),a=t=>{e.reportAllChanges||(t=t.slice(-1));for(const e of t)o.u(e),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-l(),0),r.entries=[e],i())},c=p("largest-contentful-paint",a);if(c){i=u(t,r,j,e.reportAllChanges);const n=m(()=>{a(c.takeRecords()),c.disconnect(),i(!0)});for(const t of["keydown","click","visibilitychange"])addEventListener(t,()=>O(n),{capture:!0,once:!0});d(n=>{r=f("LCP"),i=u(t,r,j,e.reportAllChanges),h(()=>{r.value=performance.now()-n.timeStamp,i(!0)})})}})})(n=>{const i=(t=>{let n={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){const i=e();if(i){const e=i.activationStart||0,r=t.entries.at(-1),s=r.url&&performance.getEntriesByType("resource").filter(t=>t.name===r.url)[0],a=Math.max(0,i.responseStart-e),c=Math.max(a,s?(s.requestStart||s.startTime)-e:0),d=Math.min(t.value,Math.max(c,s?s.responseEnd-e:0));n={target:o.get(r),timeToFirstByte:a,resourceLoadDelay:c-a,resourceLoadDuration:d-c,elementRenderDelay:t.value-d,navigationEntry:i,lcpEntry:r},r.url&&(n.url=r.url),s&&(n.lcpResourceEntry=s)}}return Object.assign(t,{attribution:n})})(n);t(i)},n)})(function(t){const{attribution:e,value:n}=t;Ot.add({largestContentfulPaint:Math.round(n),largestContentfulPaintTarget:e.target})}),((t,i={})=>{w(i=>{const r=(t=>{let i={timeToFirstByte:0,firstByteToFCP:t.value,loadState:n(c())};if(t.entries.length){const r=e(),o=t.entries.at(-1);if(r){const e=r.activationStart||0,s=Math.max(0,r.responseStart-e);i={timeToFirstByte:s,firstByteToFCP:t.value-s,loadState:n(t.entries[0].startTime),navigationEntry:r,fcpEntry:o}}}return Object.assign(t,{attribution:i})})(i);t(r)},i)})(function(t){const{value:e}=t;Ot.add({firstContentfulPaint:Math.round(e)})}),((t,e={})=>{const i=s(e=Object.assign({},e),B);let o=[],a=[],c=0;const h=new WeakMap,l=new WeakMap;let m=!1;const _=()=>{m||(O(g),m=!0)},g=()=>{const t=i.l.map(t=>h.get(t.entries[0])),e=a.length-50;a=a.filter((n,i)=>i>=e||t.includes(n));const n=new Set;for(const t of a){const e=x(t.startTime,t.processingEnd);for(const t of e)n.add(t)}const r=o.length-1-50;o=o.filter((t,e)=>t.startTime>c&&e>r||n.has(t)),m=!1};i.m=t=>{const e=t.startTime+t.duration;let n;c=Math.max(c,t.processingEnd);for(let i=a.length-1;i>=0;i--){const r=a[i];if(Math.abs(e-r.renderTime)<=8){n=r,n.startTime=Math.min(t.startTime,n.startTime),n.processingStart=Math.min(t.processingStart,n.processingStart),n.processingEnd=Math.max(t.processingEnd,n.processingEnd),n.entries.push(t);break}}n||(n={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:e,entries:[t]},a.push(n)),(t.interactionId||"first-input"===t.entryType)&&h.set(t,n),_()},i.p=t=>{if(!l.get(t)){const n=(e.generateTarget??r)(t.entries[0].target);l.set(t,n)}};const x=(t,e)=>{const n=[];for(const i of o)if(!(i.startTime+i.duration<t)){if(i.startTime>e)break;n.push(i)}return n},v=t=>{const e=t.entries[0],r=h.get(e),o=e.processingStart,s=Math.max(e.startTime+e.duration,o),a=Math.min(r.processingEnd,s),c=r.entries.sort((t,e)=>t.processingStart-e.processingStart),d=x(e.startTime,a),u=i.h.get(e.interactionId),f={interactionTarget:l.get(u),interactionType:e.name.startsWith("key")?"keyboard":"pointer",interactionTime:e.startTime,nextPaintTime:s,processedEventEntries:c,longAnimationFrameEntries:d,inputDelay:o-e.startTime,processingDuration:a-o,presentationDelay:s-a,loadState:n(e.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return(t=>{if(!t.longAnimationFrameEntries?.length)return;const e=t.interactionTime,n=t.inputDelay,i=t.processingDuration;let r,o,s=0,a=0,c=0,d=0;for(const c of t.longAnimationFrameEntries){a=a+c.startTime+c.duration-c.styleAndLayoutStart;for(const t of c.scripts){const c=t.startTime+t.duration;if(c<e)continue;const u=c-Math.max(e,t.startTime),h=t.duration?u/t.duration*t.forcedStyleAndLayoutDuration:0;s+=u-h,a+=h,u>d&&(o=t.startTime<e+n?"input-delay":t.startTime>=e+n+i?"presentation-delay":"processing-duration",r=t,d=u)}}const u=t.longAnimationFrameEntries.at(-1),h=u?u.startTime+u.duration:0;h>=e+n+i&&(c=t.nextPaintTime-h),r&&o&&(t.longestScript={entry:r,subpart:o,intersectingDuration:d}),t.totalScriptDuration=s,t.totalStyleAndLayoutDuration=a,t.totalPaintDuration=c,t.totalUnattributedDuration=t.nextPaintTime-e-s-a-c})(f),Object.assign(t,{attribution:f})};p("long-animation-frame",t=>{o=o.concat(t),_()}),((t,e={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&S(()=>{"interactionCount"in performance||D||(D=p("event",L,{type:"event",buffered:!0,durationThreshold:0}));let n,i=f("INP");const r=s(e,B),o=t=>{O(()=>{for(const e of t)r.u(e);const e=r.M();e&&e.T!==i.value&&(i.value=e.T,i.entries=e.entries,n())})},a=p("event",o,{durationThreshold:e.durationThreshold??40});n=u(t,i,A,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(o(a.takeRecords()),n(!0))}),d(()=>{r.v(),i=f("INP"),n=u(t,i,A,e.reportAllChanges)}))})})(e=>{const n=v(e);t(n)},e)})(function(t){const{attribution:e,value:n}=t;if(null===Dt)return void console.debug("⛔️ Shopify/perf-kit is not initialized");if(!Nt())return;Dt.info.microSessionCount+=1;const{inputDelay:i,processingDuration:r,presentationDelay:o,longestScript:s,interactionTarget:a}=e,c=s?.entry?{slowest_script:s.entry.sourceURL,slowest_script_duration:Math.round(s.entry.duration)}:{};ct({monorailRegion:Dt.config.monorailRegion,schema:at.OnInteraction,rawData:{...Dt.info,...Dt.config.storefrontData,...Dt.performanceMetrics,interactionToNextPaint:Math.round(n),interactionToNextPaintTarget:a,longAnimationFrame:{input_delay:Math.round(i),processing_duration:Math.round(r),presentation_delay:Math.round(o),...c}}})},{reportAllChanges:!0}),((t,n={})=>{((t,n={})=>{let i=f("TTFB"),r=u(t,i,q,n.reportAllChanges);F(()=>{const o=e();o&&(i.value=Math.max(o.responseStart-l(),0),i.entries=[o],r(!0),d(()=>{i=f("TTFB",0),r=u(t,i,q,n.reportAllChanges),r(!0)}))})})(e=>{const n=(t=>{let e={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(t.entries.length){const n=t.entries[0],i=n.activationStart||0,r=Math.max((n.workerStart||n.fetchStart)-i,0),o=Math.max(n.domainLookupStart-i,0),s=Math.max(n.connectStart-i,0),a=Math.max(n.connectEnd-i,0);e={waitingDuration:r,cacheDuration:o-r,dnsDuration:s-o,connectionDuration:a-s,requestDuration:t.value-a,navigationEntry:n}}return Object.assign(t,{attribution:e})})(e);t(n)},n)})(function(t){const{value:e}=t;Ot.add({timeToFirstByte:Math.round(e)})}),addEventListener("DOMContentLoaded",()=>{Pt="hidden"===document.visibilityState}),addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&At()}),function(){const{dataset:t}=document.currentScript;try{Bt(function(t){if(!t.application)throw new Error("Application is missing");if(!["storefront-renderer","hydrogen"].includes(t.application.toLowerCase()))throw new Error("Invalid application type");if(!t.shopId)throw new Error("shopId is missing");if(!t.themeInstanceId&&!t.storefrontId)throw new Error("Either `themeInstanceId` or `storefrontId` must be defined");for(const e of["shopId","humannessScore","themeInstanceId","storefrontId"])if(t[e]&&isNaN(Number(t[e])))throw new Error(`Invalid ${e}`);if(t.monorailRegion&&!["shop_domain","global","staging","canada"].includes(t.monorailRegion.toLowerCase()))throw new Error("Invalid monorail region");if(t.resourceTimingSamplingRate&&(isNaN(Number(t.resourceTimingSamplingRate))||Number(t.resourceTimingSamplingRate)<10||Number(t.resourceTimingSamplingRate)>100))throw new Error("Invalid resource timing sampling rate");return{storefrontData:{application:t.application.toLowerCase(),shopId:Number(t.shopId),renderRegion:t.renderRegion,pageType:t.pageType,seoBot:"true"===t.seoBot,humannessScore:Number(t.humannessScore)||void 0,ja3Fingerprint:t.ja3Fingerprint,themeInstanceId:Number(t.themeInstanceId)||void 0,storefrontId:Number(t.storefrontId)||void 0,themeName:t.themeName||void 0,themeVersion:t.themeVersion||void 0},monorailRegion:t.monorailRegion,resourceTimingSamplingRate:Number(t.resourceTimingSamplingRate)||void 0,spaMode:"true"===t.spaMode,shs:"true"===t.shs,shsBeacon:"true"===t.shsBeacon,shsCookie:"true"===t.shsCookie}}(t))}catch(t){console.error("🚫 Error initializing PerfKit:",t.message)}}()}();
